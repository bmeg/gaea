syntax = "proto3";

package gaia.schema;

enum FieldAction {
  NOTHING = 0;
  RENAME = 1;
  RENDER_MAP_TO_PROPERTIES = 2;
  STORE_MAP = 3;
  CREATE_EDGE = 4;
}

message EdgeCreator {
  string dst_message_type = 1;
  string dst_field_match = 2;
}

message VertexRename {
  
}

message FieldProcess {
  string name = 1;
  FieldAction action = 2;
  oneof arguments {
    EdgeCreator edge_creator = 3;
    VertexRename vertex_rename = 4;
  }
}

message GIDFormat {
  string field_selection = 1;
}

message MessageConvert {
  string type = 1;
  GIDFormat gid_format = 2;
  repeated FieldProcess process = 3;
}